{"is_source_file": true, "format": "Python", "description": "This Python source file defines classes and functions for configuring and interacting with AI/NLP providers such as OpenAI, Azure OpenAI, LiteLLM, and a mock implementation. It includes configuration loading from environment variables, an error class, and an AI client that can generate follow-up questions and summarize dialogues in a clinical context.", "external_files": ["os", "requests"], "external_methods": ["os.getenv", "requests.post"], "published": ["AIConfig", "AIClientError", "AIClient"], "classes": [{"name": "AIConfig", "description": "Configuration dataclass for AI/NLP providers, supporting loading parameters from environment variables."}, {"name": "AIClientError", "description": "Custom exception class for AI client errors."}, {"name": "AIClient", "description": "Client class to interact with different AI providers, generate follow-up questions, and create clinical summaries."}], "methods": [{"name": "AIConfig.from_env", "description": "Static method to load AI configuration from environment variables."}, {"name": "AIClient.__init__", "description": "Initialize AI client with configuration, defaulting to environment."}, {"name": "AIClient._headers", "description": "Generate appropriate HTTP headers based on provider and API key."}, {"name": "AIClient._endpoint", "description": "Construct API endpoint URL based on provider and configuration."}, {"name": "AIClient._post", "description": "Send POST request to AI provider or generate mock responses."}, {"name": "AIClient.ask_follow_up", "description": "Generate an empathetic follow-up question in a clinical context based on dialogue."}, {"name": "AIClient.summarize_dialogue", "description": "Create a structured clinical note from conversation history and patient ID."}, {"name": "None __init__(self, cfg: Optional[AIConfig] = None)", "scope": "AIClient", "scopeKind": "class", "description": "unavailable"}, {"name": "str _endpoint(self)", "scope": "AIClient", "scopeKind": "class", "description": "unavailable"}, {"name": "dict _headers(self)", "scope": "AIClient", "scopeKind": "class", "description": "unavailable"}, {"name": "dict _post(self, payload: dict)", "scope": "AIClient", "scopeKind": "class", "description": "unavailable"}, {"name": "str ask_follow_up(self, dialogue: List[dict])", "scope": "AIClient", "scopeKind": "class", "description": "unavailable"}, {"name": "\"AIConfig\" from_env()", "scope": "AIConfig", "scopeKind": "class", "description": "unavailable"}, {"name": "str summarize_dialogue(self, dialogue: List[dict], patient_id: str)", "scope": "AIClient", "scopeKind": "class", "description": "unavailable"}], "calls": ["os.getenv", "requests.post"], "search-terms": ["AIConfig", "AIClient", "clinical dialogue", "follow-up question", "summarize dialogue", "medical scribe", "environment variables", "API provider configuration"], "state": 2, "file_id": 23, "knowledge_revision": 74, "git_revision": "", "ctags": [{"_type": "tag", "name": "AIClient", "path": "/home/kavia/workspace/code-generation/patient-health-inquiry-and-note-management-2974-2983/chatbot_backend/api/ai.py", "pattern": "/^class AIClient:$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "AIClientError", "path": "/home/kavia/workspace/code-generation/patient-health-inquiry-and-note-management-2974-2983/chatbot_backend/api/ai.py", "pattern": "/^class AIClientError(Exception):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "AIConfig", "path": "/home/kavia/workspace/code-generation/patient-health-inquiry-and-note-management-2974-2983/chatbot_backend/api/ai.py", "pattern": "/^class AIConfig:$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "__init__", "path": "/home/kavia/workspace/code-generation/patient-health-inquiry-and-note-management-2974-2983/chatbot_backend/api/ai.py", "pattern": "/^    def __init__(self, cfg: Optional[AIConfig] = None) -> None:$/", "language": "Python", "typeref": "typename:None", "kind": "member", "signature": "(self, cfg: Optional[AIConfig] = None)", "scope": "AIClient", "scopeKind": "class"}, {"_type": "tag", "name": "_endpoint", "path": "/home/kavia/workspace/code-generation/patient-health-inquiry-and-note-management-2974-2983/chatbot_backend/api/ai.py", "pattern": "/^    def _endpoint(self) -> str:$/", "language": "Python", "typeref": "typename:str", "kind": "member", "signature": "(self)", "scope": "AIClient", "scopeKind": "class"}, {"_type": "tag", "name": "_headers", "path": "/home/kavia/workspace/code-generation/patient-health-inquiry-and-note-management-2974-2983/chatbot_backend/api/ai.py", "pattern": "/^    def _headers(self) -> dict:$/", "language": "Python", "typeref": "typename:dict", "kind": "member", "signature": "(self)", "scope": "AIClient", "scopeKind": "class"}, {"_type": "tag", "name": "_post", "path": "/home/kavia/workspace/code-generation/patient-health-inquiry-and-note-management-2974-2983/chatbot_backend/api/ai.py", "pattern": "/^    def _post(self, payload: dict) -> dict:$/", "language": "Python", "typeref": "typename:dict", "kind": "member", "signature": "(self, payload: dict)", "scope": "AIClient", "scopeKind": "class"}, {"_type": "tag", "name": "ask_follow_up", "path": "/home/kavia/workspace/code-generation/patient-health-inquiry-and-note-management-2974-2983/chatbot_backend/api/ai.py", "pattern": "/^    def ask_follow_up(self, dialogue: List[dict]) -> str:$/", "language": "Python", "typeref": "typename:str", "kind": "member", "signature": "(self, dialogue: List[dict])", "scope": "AIClient", "scopeKind": "class"}, {"_type": "tag", "name": "from_env", "path": "/home/kavia/workspace/code-generation/patient-health-inquiry-and-note-management-2974-2983/chatbot_backend/api/ai.py", "pattern": "/^    def from_env() -> \"AIConfig\":$/", "language": "Python", "typeref": "typename:\"AIConfig\"", "kind": "member", "signature": "()", "scope": "AIConfig", "scopeKind": "class"}, {"_type": "tag", "name": "summarize_dialogue", "path": "/home/kavia/workspace/code-generation/patient-health-inquiry-and-note-management-2974-2983/chatbot_backend/api/ai.py", "pattern": "/^    def summarize_dialogue(self, dialogue: List[dict], patient_id: str) -> str:$/", "language": "Python", "typeref": "typename:str", "kind": "member", "signature": "(self, dialogue: List[dict], patient_id: str)", "scope": "AIClient", "scopeKind": "class"}], "hash": "00758675a9c61fa54ff967e8d398cdef", "format-version": 4, "code-base-name": "chatbot_backend", "filename": "chatbot_backend/api/ai.py", "revision_history": [{"74": ""}]}