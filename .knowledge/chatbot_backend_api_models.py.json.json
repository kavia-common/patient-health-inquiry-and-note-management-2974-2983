{"is_source_file": true, "format": "Python (Django ORM models)", "description": "Defines data models for conversations and messages within a patient health inquiry system, including fields for patient IDs, message content, and timestamps, along with methods for counting messages and string representations.", "external_files": ["django.db", "uuid"], "external_methods": ["models.UUIDField", "models.CharField", "models.JSONField", "models.DateTimeField", "models.BigAutoField", "models.ForeignKey"], "published": ["Conversation", "Message"], "classes": [{"name": "Conversation", "description": "Stores a patient conversation, including an ID, patient ID, metadata, timestamps, and a method to count messages."}, {"name": "Message", "description": "Stores individual messages linked to a conversation, with sender info, message text, timestamps, and string representation."}], "methods": [{"name": "int message_count(self)", "description": "Returns the number of messages associated with a conversation.", "scope": "Conversation", "scopeKind": "class"}, {"name": "str __str__(self)", "description": "String representation of Conversation or Message objects.", "scope": "Message", "scopeKind": "class"}], "calls": ["self.messages.count()"], "search-terms": ["Conversation", "Message", "patient conversation model", "message count", "UUIDField", "related_name='messages'", "JSONField"], "state": 2, "file_id": 7, "knowledge_revision": 40, "git_revision": "9b4d25bf133a9aca09a6cbd9658163a46cf4132a", "revision_history": [{"22": "9b4d25bf133a9aca09a6cbd9658163a46cf4132a"}, {"40": "9b4d25bf133a9aca09a6cbd9658163a46cf4132a"}], "ctags": [{"_type": "tag", "name": "Conversation", "path": "/home/kavia/workspace/code-generation/patient-health-inquiry-and-note-management-2974-2983/chatbot_backend/api/models.py", "pattern": "/^class Conversation(models.Model):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "Message", "path": "/home/kavia/workspace/code-generation/patient-health-inquiry-and-note-management-2974-2983/chatbot_backend/api/models.py", "pattern": "/^class Message(models.Model):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "Meta", "path": "/home/kavia/workspace/code-generation/patient-health-inquiry-and-note-management-2974-2983/chatbot_backend/api/models.py", "pattern": "/^    class Meta:$/", "language": "Python", "kind": "class", "scope": "Message", "scopeKind": "class"}, {"_type": "tag", "name": "SENDER_CHOICES", "path": "/home/kavia/workspace/code-generation/patient-health-inquiry-and-note-management-2974-2983/chatbot_backend/api/models.py", "pattern": "/^    SENDER_CHOICES = ($/", "language": "Python", "kind": "variable", "scope": "Message", "scopeKind": "class"}, {"_type": "tag", "name": "__str__", "path": "/home/kavia/workspace/code-generation/patient-health-inquiry-and-note-management-2974-2983/chatbot_backend/api/models.py", "pattern": "/^    def __str__(self) -> str:$/", "language": "Python", "typeref": "typename:str", "kind": "member", "signature": "(self)", "scope": "Conversation", "scopeKind": "class"}, {"_type": "tag", "name": "__str__", "path": "/home/kavia/workspace/code-generation/patient-health-inquiry-and-note-management-2974-2983/chatbot_backend/api/models.py", "pattern": "/^    def __str__(self) -> str:$/", "language": "Python", "typeref": "typename:str", "kind": "member", "signature": "(self)", "scope": "Message", "scopeKind": "class"}, {"_type": "tag", "name": "conversation", "path": "/home/kavia/workspace/code-generation/patient-health-inquiry-and-note-management-2974-2983/chatbot_backend/api/models.py", "pattern": "/^    conversation = models.ForeignKey(Conversation, related_name=\"messages\", on_delete=models.CAS/", "language": "Python", "kind": "variable", "scope": "Message", "scopeKind": "class"}, {"_type": "tag", "name": "created_at", "path": "/home/kavia/workspace/code-generation/patient-health-inquiry-and-note-management-2974-2983/chatbot_backend/api/models.py", "pattern": "/^    created_at = models.DateTimeField(auto_now_add=True)$/", "language": "Python", "kind": "variable", "scope": "Conversation", "scopeKind": "class"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/code-generation/patient-health-inquiry-and-note-management-2974-2983/chatbot_backend/api/models.py", "pattern": "/^    id = models.BigAutoField(primary_key=True)$/", "language": "Python", "kind": "variable", "scope": "Message", "scopeKind": "class"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/code-generation/patient-health-inquiry-and-note-management-2974-2983/chatbot_backend/api/models.py", "pattern": "/^    id = models.UUIDField(primary_key=True, default=uuid.uuid4, editable=False)$/", "language": "Python", "kind": "variable", "scope": "Conversation", "scopeKind": "class"}, {"_type": "tag", "name": "message_count", "path": "/home/kavia/workspace/code-generation/patient-health-inquiry-and-note-management-2974-2983/chatbot_backend/api/models.py", "pattern": "/^    def message_count(self) -> int:$/", "language": "Python", "typeref": "typename:int", "kind": "member", "signature": "(self)", "scope": "Conversation", "scopeKind": "class"}, {"_type": "tag", "name": "metadata", "path": "/home/kavia/workspace/code-generation/patient-health-inquiry-and-note-management-2974-2983/chatbot_backend/api/models.py", "pattern": "/^    metadata = models.JSONField(default=dict, blank=True)$/", "language": "Python", "kind": "variable", "scope": "Conversation", "scopeKind": "class"}, {"_type": "tag", "name": "ordering", "path": "/home/kavia/workspace/code-generation/patient-health-inquiry-and-note-management-2974-2983/chatbot_backend/api/models.py", "pattern": "/^        ordering = [\"timestamp\"]$/", "language": "Python", "kind": "variable", "scope": "Message.Meta", "scopeKind": "class"}, {"_type": "tag", "name": "patient_id", "path": "/home/kavia/workspace/code-generation/patient-health-inquiry-and-note-management-2974-2983/chatbot_backend/api/models.py", "pattern": "/^    patient_id = models.CharField(max_length=255, db_index=True)$/", "language": "Python", "kind": "variable", "scope": "Conversation", "scopeKind": "class"}, {"_type": "tag", "name": "sender", "path": "/home/kavia/workspace/code-generation/patient-health-inquiry-and-note-management-2974-2983/chatbot_backend/api/models.py", "pattern": "/^    sender = models.CharField(max_length=16, choices=SENDER_CHOICES)$/", "language": "Python", "kind": "variable", "scope": "Message", "scopeKind": "class"}, {"_type": "tag", "name": "text", "path": "/home/kavia/workspace/code-generation/patient-health-inquiry-and-note-management-2974-2983/chatbot_backend/api/models.py", "pattern": "/^    text = models.TextField()$/", "language": "Python", "kind": "variable", "scope": "Message", "scopeKind": "class"}, {"_type": "tag", "name": "timestamp", "path": "/home/kavia/workspace/code-generation/patient-health-inquiry-and-note-management-2974-2983/chatbot_backend/api/models.py", "pattern": "/^    timestamp = models.DateTimeField(auto_now_add=True)$/", "language": "Python", "kind": "variable", "scope": "Message", "scopeKind": "class"}, {"_type": "tag", "name": "updated_at", "path": "/home/kavia/workspace/code-generation/patient-health-inquiry-and-note-management-2974-2983/chatbot_backend/api/models.py", "pattern": "/^    updated_at = models.DateTimeField(auto_now=True)$/", "language": "Python", "kind": "variable", "scope": "Conversation", "scopeKind": "class"}], "hash": "c889d14b6838c95e8ddd7a790b28862d", "format-version": 4, "code-base-name": "chatbot_backend", "filename": "chatbot_backend/api/models.py", "fields": [{"name": "SENDER_CHOICES = (", "scope": "Message", "scopeKind": "class", "description": "unavailable"}, {"name": "conversation = models.ForeignKey(Conversation, related_name=\"messages\", on_delete=models.CAS/", "scope": "Message", "scopeKind": "class", "description": "unavailable"}, {"name": "created_at = models.DateTimeField(auto_now_add=True)", "scope": "Conversation", "scopeKind": "class", "description": "unavailable"}, {"name": "id = models.BigAutoField(primary_key=True)", "scope": "Message", "scopeKind": "class", "description": "unavailable"}, {"name": "id = models.UUIDField(primary_key=True, default=uuid.uuid4, editable=False)", "scope": "Conversation", "scopeKind": "class", "description": "unavailable"}, {"name": "metadata = models.JSONField(default=dict, blank=True)", "scope": "Conversation", "scopeKind": "class", "description": "unavailable"}, {"name": "ordering = [\"timestamp\"]", "scope": "Message.Meta", "scopeKind": "class", "description": "unavailable"}, {"name": "patient_id = models.CharField(max_length=255, db_index=True)", "scope": "Conversation", "scopeKind": "class", "description": "unavailable"}, {"name": "sender = models.CharField(max_length=16, choices=SENDER_CHOICES)", "scope": "Message", "scopeKind": "class", "description": "unavailable"}, {"name": "text = models.TextField()", "scope": "Message", "scopeKind": "class", "description": "unavailable"}, {"name": "timestamp = models.DateTimeField(auto_now_add=True)", "scope": "Message", "scopeKind": "class", "description": "unavailable"}, {"name": "updated_at = models.DateTimeField(auto_now=True)", "scope": "Conversation", "scopeKind": "class", "description": "unavailable"}]}