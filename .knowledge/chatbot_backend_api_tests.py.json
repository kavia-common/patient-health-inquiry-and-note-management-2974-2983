{"is_source_file": true, "format": "Python", "description": "This file contains unit tests for the API endpoints of a healthcare application, specifically testing health check and message sending functionalities.", "external_files": ["rest_framework.test", "django.urls", "api.models", "uuid"], "external_methods": ["reverse", "Conversation.objects.create", "Message.objects.filter", "uuid.uuid4", "Conversation.objects.get"], "published": [], "classes": [{"name": "HealthTests", "description": "Test case for health check endpoint."}, {"name": "SendMessageTests", "description": "Test case for sending messages, including creating new conversations and handling errors."}], "methods": [{"name": "test_health(self)", "description": "Tests the health check endpoint for a successful response.", "scope": "HealthTests", "scopeKind": "class"}, {"name": "setUp(self)", "description": "Sets up test data, specifically the URL for sending messages.", "scope": "SendMessageTests", "scopeKind": "class"}, {"name": "test_send_message_existing_conversation(self)", "description": "Tests sending a message to an existing conversation.", "scope": "SendMessageTests", "scopeKind": "class"}, {"name": "test_send_message_create_if_missing_with_patient_id(self)", "description": "Tests creating a new conversation when none exists, using patient ID.", "scope": "SendMessageTests", "scopeKind": "class"}, {"name": "test_send_message_missing_conversation_without_patient_id(self)", "description": "Tests error handling when conversation does not exist and no patient ID is provided.", "scope": "SendMessageTests", "scopeKind": "class"}], "calls": ["reverse('Health')", "Conversation.objects.create(patient_id=\"p1\", metadata={})", "uuid.uuid4()", "Message.objects.filter(conversation=convo)", "Conversation.objects.get(id=new_convo_id)"], "search-terms": ["HealthTests", "SendMessageTests", "APITestCase", "send_url", "Conversation", "Message", "uuid", "test_send_message"], "state": 2, "file_id": 13, "knowledge_revision": 71, "git_revision": "075d7988a9ee9cdb57b7dd73f7960809eb2312ef", "revision_history": [{"36": "9b4d25bf133a9aca09a6cbd9658163a46cf4132a"}, {"51": "9b4d25bf133a9aca09a6cbd9658163a46cf4132a"}, {"71": "075d7988a9ee9cdb57b7dd73f7960809eb2312ef"}], "ctags": [{"_type": "tag", "name": "HealthTests", "path": "/home/kavia/workspace/code-generation/patient-health-inquiry-and-note-management-2974-2983/chatbot_backend/api/tests.py", "pattern": "/^class HealthTests(APITestCase):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "SendMessageTests", "path": "/home/kavia/workspace/code-generation/patient-health-inquiry-and-note-management-2974-2983/chatbot_backend/api/tests.py", "pattern": "/^class SendMessageTests(APITestCase):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "setUp", "path": "/home/kavia/workspace/code-generation/patient-health-inquiry-and-note-management-2974-2983/chatbot_backend/api/tests.py", "pattern": "/^    def setUp(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "SendMessageTests", "scopeKind": "class"}, {"_type": "tag", "name": "test_health", "path": "/home/kavia/workspace/code-generation/patient-health-inquiry-and-note-management-2974-2983/chatbot_backend/api/tests.py", "pattern": "/^    def test_health(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "HealthTests", "scopeKind": "class"}, {"_type": "tag", "name": "test_send_message_create_if_missing_with_patient_id", "path": "/home/kavia/workspace/code-generation/patient-health-inquiry-and-note-management-2974-2983/chatbot_backend/api/tests.py", "pattern": "/^    def test_send_message_create_if_missing_with_patient_id(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "SendMessageTests", "scopeKind": "class"}, {"_type": "tag", "name": "test_send_message_existing_conversation", "path": "/home/kavia/workspace/code-generation/patient-health-inquiry-and-note-management-2974-2983/chatbot_backend/api/tests.py", "pattern": "/^    def test_send_message_existing_conversation(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "SendMessageTests", "scopeKind": "class"}, {"_type": "tag", "name": "test_send_message_missing_conversation_without_patient_id", "path": "/home/kavia/workspace/code-generation/patient-health-inquiry-and-note-management-2974-2983/chatbot_backend/api/tests.py", "pattern": "/^    def test_send_message_missing_conversation_without_patient_id(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "SendMessageTests", "scopeKind": "class"}], "hash": "c6521cb56a99d6fafa8c6c5aefde6829", "format-version": 4, "code-base-name": "chatbot_backend", "filename": "chatbot_backend/api/tests.py"}