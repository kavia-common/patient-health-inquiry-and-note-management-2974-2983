{"is_source_file": true, "format": "Python", "description": "This file defines REST API endpoints for a healthcare-related chat application, including endpoints for health checks, starting conversations, sending messages with AI-generated follow-ups, continuing conversations, generating notes from conversations, obtaining AI follow-up questions, generating and saving summaries to OneDrive, saving notes locally, and checking conversation status.", "external_files": ["serializers.py", "models.py", "services.py"], "external_methods": ["UUID", "swagger_auto_schema", "openapi", "api_view", "permission_classes", "AllowAny", "Response", "status", "ConversationManager", "NoteGenerator", "LocalNoteStorage", "LocalNoteStorageError", "AIConversationHelper"], "published": ["health", "start_conversation", "send_message", "continue_conversation", "generate_note", "next_follow_up", "generate_and_save_summary", "save_note_to_local", "conversation_status"], "classes": [{"name": "Conversation", "description": "Model representing a conversation between a patient and healthcare provider."}, {"name": "StartConversationSerializer", "description": "Serializer for starting new conversations."}, {"name": "MessageSerializer", "description": "Serializer for messages sent in conversations."}, {"name": "ContinueConversationSerializer", "description": "Serializer for appending multiple messages to a conversation."}, {"name": "GenerateNoteRequestSerializer", "description": "Serializer for requesting note generation from a conversation."}, {"name": "GenerateNoteResponseSerializer", "description": "Serializer for response data for generated notes."}, {"name": "NextFollowUpRequestSerializer", "description": "Serializer for requesting next follow-up question."}, {"name": "NextFollowUpResponseSerializer", "description": "Serializer for the follow-up question response."}, {"name": "GenerateAndSaveSummaryRequestSerializer", "description": "Serializer for requesting AI-generated summary and saving it."}, {"name": "LocalSaveRequestSerializer", "description": "Serializer for saving notes locally."}, {"name": "ConversationStatusSerializer", "description": "Serializer for conversation status info."}], "methods": [{"name": "ocean_ok(data: dict, status_code=status.HTTP_200_OK)", "description": "Helper function to return successful responses in Ocean Professional style.", "scope": "", "scopeKind": ""}, {"name": "ocean_error(message: str, code: str = \"error\", details: dict | None = None, status_code=status.HTTP_400_BAD_REQUEST)", "description": "Helper function to return error responses in Ocean Professional style.", "scope": "", "scopeKind": ""}, {"name": "health(request)", "description": "Health check endpoint to verify backend service availability.", "scope": "", "scopeKind": ""}, {"name": "start_conversation(request)", "description": "Creates a new conversation for a patient.", "scope": "", "scopeKind": ""}, {"name": "send_message(request)", "description": "Append a message to a conversation and generate an AI follow-up question.", "scope": "", "scopeKind": ""}, {"name": "continue_conversation(request)", "description": "Append multiple messages to an existing conversation.", "scope": "", "scopeKind": ""}, {"name": "generate_note(request)", "description": "Generate a disease note based on conversation messages.", "scope": "", "scopeKind": ""}, {"name": "next_follow_up(request)", "description": "Generate a concise AI follow-up question based on a conversation.", "scope": "", "scopeKind": ""}, {"name": "generate_and_save_summary(request)", "description": "Generate an AI summary/clinical note from a conversation and save to OneDrive.", "scope": "", "scopeKind": ""}, {"name": "save_note_to_local(request)", "description": "Save a note as a .txt file to local disk on the host machine.", "scope": "", "scopeKind": ""}, {"name": "conversation_status(request)", "description": "Retrieve information about a conversation, including message count and timestamps.", "scope": "", "scopeKind": ""}], "calls": ["ConversationManager.start_conversation", "ConversationManager.append_messages", "ConversationManager.get_conversation", "NoteGenerator.generate_note", "AIConversationHelper.next_follow_up", "LocalNoteStorage.save_text_file", "Conversation.objects.get"], "search-terms": ["chatbot_api_views", "send_message", "generate_note", "next_follow_up", "generate_and_save_summary", "local_save", "conversation_status", "AIConversationHelper", "LocalNoteStorage", "ConversationManager"], "state": 2, "file_id": 9, "knowledge_revision": 129, "git_revision": "39e634f39ccd5ccf738212dbb6fe07f7de1cf821", "revision_history": [{"32": "9b4d25bf133a9aca09a6cbd9658163a46cf4132a"}, {"43": "9b4d25bf133a9aca09a6cbd9658163a46cf4132a"}, {"56": "075d7988a9ee9cdb57b7dd73f7960809eb2312ef"}, {"61": "075d7988a9ee9cdb57b7dd73f7960809eb2312ef"}, {"65": "075d7988a9ee9cdb57b7dd73f7960809eb2312ef"}, {"70": "f05fa2ba43f3f70d8aab80d7470b94d1314d1de0"}, {"81": "9f1694ebeb9c2d1ed2504cadc297f4efb9db59f8"}, {"83": "d0cd5b1f677e611fe35f99c75e3e64c84fb825cc"}, {"115": "d0cd5b1f677e611fe35f99c75e3e64c84fb825cc"}, {"116": "d0cd5b1f677e611fe35f99c75e3e64c84fb825cc"}, {"118": "d6ac3ac7d570d586ad65b61d3d4f5af96b4d21c0"}, {"128": "c6d80ebac673bde86b21816b875834bc374b937b"}, {"129": "39e634f39ccd5ccf738212dbb6fe07f7de1cf821"}], "ctags": [{"_type": "tag", "name": "continue_conversation", "path": "/home/kavia/workspace/code-generation/patient-health-inquiry-and-note-management-2974-2983/chatbot_backend/api/views.py", "pattern": "/^def continue_conversation(request):$/", "language": "Python", "kind": "function", "signature": "(request)"}, {"_type": "tag", "name": "conversation_status", "path": "/home/kavia/workspace/code-generation/patient-health-inquiry-and-note-management-2974-2983/chatbot_backend/api/views.py", "pattern": "/^def conversation_status(request):$/", "language": "Python", "kind": "function", "signature": "(request)"}, {"_type": "tag", "name": "generate_and_save_summary", "path": "/home/kavia/workspace/code-generation/patient-health-inquiry-and-note-management-2974-2983/chatbot_backend/api/views.py", "pattern": "/^def generate_and_save_summary(request):$/", "language": "Python", "kind": "function", "signature": "(request)"}, {"_type": "tag", "name": "generate_note", "path": "/home/kavia/workspace/code-generation/patient-health-inquiry-and-note-management-2974-2983/chatbot_backend/api/views.py", "pattern": "/^def generate_note(request):$/", "language": "Python", "kind": "function", "signature": "(request)"}, {"_type": "tag", "name": "health", "path": "/home/kavia/workspace/code-generation/patient-health-inquiry-and-note-management-2974-2983/chatbot_backend/api/views.py", "pattern": "/^def health(request):$/", "language": "Python", "kind": "function", "signature": "(request)"}, {"_type": "tag", "name": "next_follow_up", "path": "/home/kavia/workspace/code-generation/patient-health-inquiry-and-note-management-2974-2983/chatbot_backend/api/views.py", "pattern": "/^def next_follow_up(request):$/", "language": "Python", "kind": "function", "signature": "(request)"}, {"_type": "tag", "name": "ocean_error", "path": "/home/kavia/workspace/code-generation/patient-health-inquiry-and-note-management-2974-2983/chatbot_backend/api/views.py", "pattern": "/^def ocean_error(message: str, code: str = \"error\", details: dict | None = None, status_code=stat/", "language": "Python", "kind": "function", "signature": "(message: str, code: str = \"error\", details: dict | None = None, status_code=status.HTTP_400_BAD_REQUEST)"}, {"_type": "tag", "name": "ocean_ok", "path": "/home/kavia/workspace/code-generation/patient-health-inquiry-and-note-management-2974-2983/chatbot_backend/api/views.py", "pattern": "/^def ocean_ok(data: dict, status_code=status.HTTP_200_OK):$/", "language": "Python", "kind": "function", "signature": "(data: dict, status_code=status.HTTP_200_OK)"}, {"_type": "tag", "name": "save_note_to_local", "path": "/home/kavia/workspace/code-generation/patient-health-inquiry-and-note-management-2974-2983/chatbot_backend/api/views.py", "pattern": "/^def save_note_to_local(request):$/", "language": "Python", "kind": "function", "signature": "(request)"}, {"_type": "tag", "name": "send_message", "path": "/home/kavia/workspace/code-generation/patient-health-inquiry-and-note-management-2974-2983/chatbot_backend/api/views.py", "pattern": "/^def send_message(request):$/", "language": "Python", "kind": "function", "signature": "(request)"}, {"_type": "tag", "name": "start_conversation", "path": "/home/kavia/workspace/code-generation/patient-health-inquiry-and-note-management-2974-2983/chatbot_backend/api/views.py", "pattern": "/^def start_conversation(request):$/", "language": "Python", "kind": "function", "signature": "(request)"}], "hash": "721bfa3ceea9dedf8b0447f416e46ae1", "format-version": 4, "code-base-name": "chatbot_backend", "filename": "chatbot_backend/api/views.py"}